----ESCOPO DO ALGORITMO
MGBPREV(1MAIN.F90)		!ROTINA PRINCIPAL
  TEMPO
  
----ROTINAS DE DADOS DE ENTRADA---
  LEFIX				!LEITURA DE ARQ. PARAMETROS FIXOS (PARHIG.HIG)
  ALLOCA_VARS			!ALOCA NA MEMORIA VETORES E MATRIZES DAS VARIAVEIS PRINCIPAIS
  LEVAR				!LEITURA DE ARQ. PARAMETROS VARIAVEIS-EX. ALBEDO,IAF,RSup,Zarvore (ALBIAF.HIG)
  LEUSO				!LEITURA DE ARQ. DE USO DO SOLO-EX. ARMAZENAMENTO,KINT,ETC (PARUSO.HIG)
  LECELL			!LEITURA DE ARQ. DAS CELULAS-GEOMETRIA E %BLOCOS- MINIBACIAS (CELL.MGB)
  LECLIMED			!LEITURA DE ARQ. DE NORMAIS CLIMATICAS MENSAIS (DEFINIDO NO PARHIG.HIG - MEDIAS.CLI)
  ARQCLISUB (DESATIVADO)	!LEITURA DE ARQ. DE CLIMA DIARIOS
  LEQOBS			!LEITURA DE DADOS DE VAZAO (DEFINIDO NO PARHIG.HIG - QOBS.PRN)

---FLAG E ROTINAS DO HIDRODINAMICO---
  (DESATIVADO)

---ROTINAS DE PREPARACAO DE DADOS PARA PROP. ESCOAMENTO BACIAS E RIOS (MUSKINGUN-CUNGE)
  PARCEL			!CALCULA T. DE CONC DAS CELULAS E LARGURA E VAZAO DE REF DA REDE DE DRENAGEM
    INTECLIM			  !DETERMINA O POSTO CLIMATICO MAIS PROXIMO DE CADA CELULA PARA SER UTILIZADO
    REGION			  !CALCULA A LARGURA EM FUNCAO DA AREA DE DRENAGEM UTILIZANDO EQ. LARG=a*A**b   --AJUSTAR AQUI C REGIAO!!!!
  PARCUNGE			!CALCULA O VALOR IDEAL DE DT P/ CALC DE PROPAGACAO E NUMERO DE SUBTRECHOS

---ABERTURA DE ARQUIVO DE SAIDA DE DADOS DE SOLO PARA UMA CELULA ESPECIFICADA (NOSOLO.HIG)
---ABERTURA DE ARQUIVO DE SAIDA DE AJUSTE DE HIDROGRAMAS (AJUSTE.HIG)
---ABERTURA DE ARQUIVO DE ENTRADA DE PLUVIOMETRIA (CHUVABIN.MGB)

---FLAG SELECT PARA SIMULACAO, CALIBRACAO OU PREVISAO
  SIMULA			!ROTINA DE SIMULACAO
    CONDINIC			  !GERACAO DE C.I. PARA O MODELO (VOLUMES, VAZOES, E OUTROS) --AJUSTAR QINICIAL NOS RIOS AQUI!
    MODELO			  !ROTINA QUE COMANDA O LOOP NO TEMPO !!!!CHAMAS ROTINAS DE BALANCO VERTICAL E PROPAGACAO
      LECHUVA			    !LE O ARQUIVO DE CHUVA E PREPARA DADOS (CHUVABIN.HIG)
      LECLIMA			    !PREPARA DADOS CLIMATOLOGICOS (SE TEM DIARIO OU MENSAL)
       CALDAT			      !CONVERTE DIA JULIANO EM DD/MM/AAAA USADO PARA VERIFICA O MES
      CELULA			    !ROTINA P LOOP DE PROPAGACAO DAS CELULAS
       CALDAT			      !CONVERTE DIA JULIANO EM DD/MM/AAAA USADO PARA VERIFICA O MES
        -COMECA LOOP DOS USOS
       RADIACAO			      !CALCULA RADIACAO LÍQUIDA DISPONIVEL  --- AJUSTAR AJUSTE DE NEBULOSIDADE E LEMBRAR DO FLUXO PARA O SOLo!
       EVAP			      !CALCULA INTERCEPTACAO E PERDAS DE EVAPORACAO (PENMAN-MONTEITH)
       SOLO			      !CALCULA O BALANCO DE AGUA NO SOLO
        -AJUSTA AS UNIDADES E ATUALIZA VOLUMES NAS CELULAS (PASSO INTERMEDIARIO)
        -FINALIZA LOOP DOS USOS
        -CALCULA VAZOES NAS CELULAS (RESERVATORIOS LINEARES) E ATUALIZA VOLUMES NAS CELULAS PARA O INTERVALO.
        -COMPENSA VOLUMES NEGATIVOS (EP NO PROXIMO INTERVALO)
	-ARMAZENA INFORMACOES

      --LINHAS PARA GRAVAR VARIAVEIS DETALHADAS DE UM BLOCO E DE UMA CELULA NO ARQUIVO SOLO.HIG

      REDE			    !ROTINA P LOOP DE PROPAGACAO NA REDE DE DRENAGEM -- VAZAO DAS CELULAS ENTRE A MONTANTE DO TRECHO

      --ARMAZENA DADOS DE VAZAO CALCULADOS PARA OS PONTOS ONDE EXISTEM VAZAO OBSERVADA (A SER USADA C CALIB AUTOMATICA)
      --ARMAZENA OUTRAS INFORMACOES PARA CALIB AUTOMATICA (DESATIVADA)

    FOBJ			  !ANALISA QUALIDADE DOS HIDROGRAMAS OBSERVADOS E CALCULADOS C BASE EM FUNCOES OBJETIVOS
    
    -- GRAVA RESULTADOS DAS FUNCOES OBJETIVOS
    -- ABRE ARQUIVOS DE BACIAS.HIG, VAZAO.HIG E QPROP.HIG E GRAVA RESULTADOS

-----ACABA AQUI----ROTINAS DE CALIBRACAO E PREVISAO EU NAO ANALISEI.
